<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心築師塾課程美學館</title>
    <style>
        /* CSS 變數系統 */
        :root {
            /* 排版比例尺 */
            --ratio: 1.25;
            --fs-xxl: clamp(2.4rem, 3vw + 1.2rem, 3.2rem);
            --fs-xl: clamp(1.8rem, 1.8vw + 1rem, 2.4rem);
            --fs-lg: clamp(1.2rem, 0.8vw + 1rem, 1.4rem);
            --fs-md: 1rem;
            --fs-sm: 0.9rem;
            --fs-xs: 0.75rem;
            --lh: 1.7;
            
            /* 色彩系統 - 提升對比 */
            --bg: #fafafa;
            --paper: #ffffff;
            --ink: #161616;
            --muted: #4a4a4a; /* 再次提升可讀性 */
            --line: rgba(0,0,0,.06);
            --brand: #2b2b2b;
            --accent: #0d0d0d;
            
            /* 島嶼淡彩 - 預留擴充 */
            --island-1: rgba(103, 167, 214, .12);
            --island-2: rgba(157, 193, 131, .12);
            --island-3: rgba(231, 181, 116, .12);
            --island-4: rgba(198, 152, 198, .12);
            --island-5: rgba(140, 180, 180, .12); /* 預留未來擴充 */
            
            /* 陰影層級 - 簡化 */
            --elev-1: 0 8px 18px rgba(0,0,0,.06);
            --elev-2: 0 12px 28px rgba(0,0,0,.08);
            
            /* 間距系統 */
            --space-xs: 8px;
            --space-sm: 16px;
            --space-md: 24px;
            --space-lg: 40px;
            --space-xl: 64px;
            --space-xxl: 120px;
        }

        /* 暗色模式 */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0a0a0b;
                --paper: #12121a;
                --ink: #eaeaea;
                --muted: #a0a0a0;
                --line: rgba(255,255,255,.06);
            }
        }

        /* 基礎重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
        }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", "PingFang TC", "Heiti TC",
                         -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
                         Arial, sans-serif;
            background: var(--bg);
            color: var(--ink);
            line-height: var(--lh);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        /* 無障礙隱藏文本 */
        .visually-hidden {
            position: absolute !important;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0 0 0 0);
            white-space: nowrap;
            border: 0;
        }

        /* 低功耗模式 */
        .is-lowpower * {
            animation: none !important;
            transition: none !important;
        }
        
        .is-lowpower .water-surface {
            display: none;
        }

        /* 進度條 */
        #route-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 2px;
            width: 0;
            background: linear-gradient(90deg, #7aaed6, #87c087, #e7b574, #c698c6);
            z-index: 999;
            transition: width 0.2s ease;
        }

        /* 水庭基調 - 簡化 */
        .gallery-space {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, var(--paper) 0%, var(--bg) 100%);
            z-index: -2;
        }

        /* 水面波紋 - 保留唯一動態 */
        @keyframes waterRipple {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.1; }
        }

        .water-surface {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40vh;
            background: radial-gradient(ellipse at 50% 100%, rgba(103, 167, 214, .02) 0%, transparent 70%);
            animation: waterRipple 12s ease-in-out infinite;
            z-index: -1;
            pointer-events: none;
        }

        /* 展覽入口 */
        .exhibition-entrance {
            text-align: center;
            padding: var(--space-xxl) var(--space-md) var(--space-xl);
            background: var(--paper);
            position: relative;
            margin-bottom: var(--space-xl);
            border-bottom: 1px solid var(--line);
        }

        .exhibition-title {
            font-size: var(--fs-xxl);
            font-weight: 100;
            letter-spacing: -0.01em;
            margin-bottom: var(--space-md);
            animation: fadeUp 0.9s ease-out both;
            text-wrap: balance;
        }

        .exhibition-subtitle {
            font-size: var(--fs-sm);
            letter-spacing: .22em;
            text-transform: uppercase;
            color: var(--muted);
            margin-bottom: var(--space-md);
            opacity: 0.8;
        }

        .exhibition-info {
            display: flex;
            justify-content: center;
            gap: var(--space-xl);
            margin-top: var(--space-lg);
            font-size: var(--fs-xs);
            color: var(--muted);
            letter-spacing: 0.12em;
            text-transform: uppercase;
        }

        .exhibition-info span {
            position: relative;
        }

        .exhibition-info span:not(:last-child)::after {
            content: '·';
            position: absolute;
            right: -32px;
            opacity: 0.3;
        }

        /* 展覽導覽 */
        .gallery-navigation {
            max-width: 1200px;
            margin: 0 auto var(--space-xl);
            padding: 0 var(--space-lg);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .nav-title {
            font-size: var(--fs-xs);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--muted);
            margin-bottom: var(--space-md);
            text-align: center;
            opacity: 0.6;
        }

        .exhibition-map {
            display: flex;
            justify-content: center;
            gap: var(--space-lg);
            padding: var(--space-md);
            background: rgba(255, 255, 255, .9);
            border-radius: 50px;
            box-shadow: var(--elev-1);
        }

        @supports (backdrop-filter: blur(8px)) {
            .exhibition-map {
                backdrop-filter: blur(8px);
            }
        }

        .map-point {
            display: block;
            width: 16px;
            height: 16px;
            border: 2px solid var(--muted);
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            text-decoration: none;
            background: var(--paper);
        }

        .map-point::after {
            content: attr(data-phase);
            position: absolute;
            top: 26px;
            left: 50%;
            transform: translateX(-50%);
            font-size: var(--fs-xs);
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
            color: var(--muted);
            letter-spacing: 0.05em;
        }

        .map-point:hover::after {
            opacity: 1;
        }

        /* 觸控裝置上顯示文字 */
        @media (hover: none) {
            .map-point::after {
                opacity: 1;
            }
        }

        .map-point.active {
            background: var(--ink);
            border-color: var(--ink);
            transform: scale(1.3);
        }

        .map-point:focus-visible {
            outline: 3px solid rgba(103, 167, 214, .5);
            outline-offset: 3px;
        }

        /* 右側房間索引 */
        .room-index {
            position: fixed;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 120;
            opacity: .75;
        }

        .room-index a {
            width: 34px;
            height: 34px;
            display: grid;
            place-items: center;
            border-radius: 999px;
            border: 1px solid var(--line);
            background: var(--paper);
            text-decoration: none;
            color: var(--ink);
            font-variant-numeric: tabular-nums;
            font-size: .85rem;
            transition: transform .16s ease, background .2s;
        }

        .room-index a:hover {
            transform: translateX(-2px);
        }

        .room-index a.is-active {
            background: var(--ink);
            color: var(--paper);
        }

        @media (max-width: 1024px) {
            .room-index {
                display: none;
            }
        }

        /* Museum Rooms 佈局 */
        .gallery-rooms {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-xl) 32px var(--space-xxl);
        }

        .room {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: var(--space-lg);
            align-items: start;
            margin-bottom: 120px;
            position: relative;
            animation: floatIn .9s ease-out both;
            scroll-snap-align: start;
        }

        .room:nth-child(1) { animation-delay: 0.3s; }
        .room:nth-child(2) { animation-delay: 0.5s; }
        .room:nth-child(3) { animation-delay: 0.7s; }
        .room:nth-child(4) { animation-delay: 0.9s; }

        .room:not(:last-child)::after {
            content: "";
            position: absolute;
            left: 280px;
            right: 0;
            bottom: -60px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--line), transparent);
        }

        .room-left {
            position: sticky;
            top: 96px;
        }

        .room-number {
            font-size: var(--fs-xs);
            letter-spacing: .15em;
            text-transform: uppercase;
            color: var(--muted);
            margin-bottom: 8px;
            font-weight: 500;
            font-variant-numeric: tabular-nums;
        }

        .room-title {
            font-size: var(--fs-xl);
            font-weight: 200;
            letter-spacing: .02em;
            margin-bottom: 12px;
            line-height: 1.2;
            text-wrap: balance;
        }

        .room-sub {
            font-size: var(--fs-sm);
            color: var(--muted);
            letter-spacing: .08em;
        }

        .room-right {
            max-width: 820px;
        }

        /* 牆標卡片 */
        .wall-cards {
            display: grid;
            gap: 14px;
            grid-template-columns: repeat(3, minmax(160px, 1fr));
            margin: 0;
            padding: 0;
        }

        .wall-card {
            border: 1px solid var(--line);
            border-radius: 8px;
            padding: 16px;
            background: var(--paper);
            transition: transform .16s ease, box-shadow .2s ease;
        }

        .wall-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 18px rgba(0,0,0,.06);
        }

        .wall-label {
            font-size: var(--fs-xs);
            letter-spacing: .14em;
            color: var(--muted);
            text-transform: uppercase;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .wall-text {
            font-size: var(--fs-md);
            line-height: 1.55;
            font-weight: 300;
            max-width: 36ch;
            text-wrap: pretty;
            margin: 0;
        }

        /* 策展人註解 */
        .curator-note {
            margin-top: 20px;
            border-radius: 8px;
            padding: 14px 16px;
            font-size: var(--fs-sm);
            background: rgba(32,32,32,.95);
            color: #fafafa;
            line-height: 1.6;
        }

        #phase-1 .curator-note {
            background: linear-gradient(135deg, var(--island-1), rgba(32,32,32,.95));
        }

        #phase-2 .curator-note {
            background: linear-gradient(135deg, var(--island-2), rgba(32,32,32,.95));
        }

        #phase-3 .curator-note {
            background: linear-gradient(135deg, var(--island-3), rgba(32,32,32,.95));
        }

        #phase-4 .curator-note {
            background: linear-gradient(135deg, var(--island-4), rgba(32,32,32,.95));
        }

        /* 展覽尾聲 */
        .exhibition-footer {
            text-align: center;
            padding: var(--space-xxl) var(--space-md);
            background: var(--paper);
            margin-top: var(--space-xxl);
            border-top: 1px solid var(--line);
        }

        .footer-text {
            font-size: var(--fs-xs);
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--muted);
            opacity: 0.8;
        }

        /* 動畫 */
        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* 減少動態偏好 */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
            .water-surface {
                display: none;
            }
        }

        /* 行動裝置優化 */
        @media (max-width: 900px) {
            .room {
                grid-template-columns: 1fr;
                gap: var(--space-md);
                margin-bottom: 80px;
            }
            
            .room-left {
                position: static;
            }
            
            .wall-cards {
                grid-template-columns: 1fr;
            }
            
            .gallery-navigation {
                position: relative;
                top: 0;
            }
        }

        @media (max-width: 768px) {
            .exhibition-map {
                gap: var(--space-sm);
                padding: var(--space-sm);
            }
            
            .map-point::after {
                opacity: 1;
                top: 20px;
                font-size: 0.6rem;
            }
            
            .exhibition-title {
                font-size: 2rem;
            }
            
            .exhibition-info {
                flex-direction: column;
                gap: var(--space-xs);
            }
            
            .exhibition-info span:not(:last-child)::after {
                display: none;
            }
        }

        /* 列印樣式 */
        @media print {
            body {
                background: #fff;
                color: #000;
            }
            
            .gallery-space,
            .water-surface,
            .exhibition-map,
            #route-progress,
            .room-index {
                display: none !important;
            }
            
            .room-left {
                position: static !important;
            }
            
            .wall-card {
                box-shadow: none;
                border: 1px solid #ccc;
            }
            
            .curator-note {
                background: #f0f0f0 !important;
                color: #000 !important;
            }
        }
    </style>
</head>
<body>
    <!-- 進度條 -->
    <div id="route-progress" aria-hidden="true"></div>
    
    <!-- 水庭背景 -->
    <div class="gallery-space" aria-hidden="true"></div>
    <div class="water-surface" aria-hidden="true"></div>

    <!-- 無障礙鍵盤操作說明 -->
    <p class="visually-hidden" id="kb-help">鍵盤操作：左右方向鍵切換房間；Enter 前往該房。</p>

    <!-- 展覽入口 -->
    <header class="exhibition-entrance" role="banner">
        <h1 class="exhibition-title">心築師塾課程美學館</h1>
        <p class="exhibition-subtitle">Curriculum Aesthetics Museum</p>
        <div class="exhibition-info">
            <span>館長 Ian & 大汝</span>
            <span>策展人 莉婷 & 子妍 & 思嫻 & 卉芹</span>
        </div>
    </header>

    <!-- 展覽導覽 -->
    <nav class="gallery-navigation" role="navigation" aria-label="展覽導覽">
        <div class="nav-title">Exhibition Route</div>
        <div class="exhibition-map">
            <a href="#phase-1" class="map-point" data-phase="課程設計" aria-label="前往課程設計"></a>
            <a href="#phase-2" class="map-point" data-phase="課程發展" aria-label="前往課程發展"></a>
            <a href="#phase-3" class="map-point" data-phase="課程實施" aria-label="前往課程實施"></a>
            <a href="#phase-4" class="map-point" data-phase="課程評估與延伸" aria-label="前往課程評估與延伸"></a>
        </div>
    </nav>

    <!-- 右側房間索引 -->
    <aside class="room-index" aria-label="房間索引">
        <a href="#phase-1" aria-label="前往 Room 01">01</a>
        <a href="#phase-2" aria-label="前往 Room 02">02</a>
        <a href="#phase-3" aria-label="前往 Room 03">03</a>
        <a href="#phase-4" aria-label="前往 Room 04">04</a>
    </aside>

    <!-- 展覽主廳 -->
    <main class="exhibition-hall" role="main">
        <div class="gallery-rooms">

            <!-- ROOM 01｜課程設計 -->
            <section id="phase-1" class="room" role="region" aria-labelledby="r1-title" aria-describedby="r1-note">
                <div class="room-left">
                    <div class="room-number">ROOM 01</div>
                    <h2 id="r1-title" class="room-title">課程設計</h2>
                    <p class="room-sub">CANVA｜視覺架構｜教材定稿</p>
                </div>
                <div class="room-right">
                    <dl class="wall-cards">
                        <div class="wall-card">
                            <dt class="wall-label">目標</dt>
                            <dd class="wall-text">用CANVA版型快速統一視覺語法與教材架構。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">內容</dt>
                            <dd class="wall-text">運用模板資源建立一致的單元結構與敘事。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">媒材</dt>
                            <dd class="wall-text">選定規格便於跨科共用，5分鐘完成初版。</dd>
                        </div>
                    </dl>
                    <p id="r1-note" class="curator-note">策展語：CANVA協助教師快速定稿，讓設計不再是門檻。</p>
                </div>
            </section>

            <!-- ROOM 02｜課程發展 -->
            <section id="phase-2" class="room" role="region" aria-labelledby="r2-title" aria-describedby="r2-note">
                <div class="room-left">
                    <div class="room-number">ROOM 02</div>
                    <h2 id="r2-title" class="room-title">課程發展</h2>
                    <p class="room-sub">myViewBoard｜HiTeach｜ClassSwift</p>
                </div>
                <div class="room-right">
                    <dl class="wall-cards">
                        <div class="wall-card">
                            <dt class="wall-label">活動</dt>
                            <dd class="wall-text">myViewBoard數位白板即時標記，形成互動軌跡。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">互動</dt>
                            <dd class="wall-text">HiTeach即時測驗蒐集形成性評量訊號。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">節奏</dt>
                            <dd class="wall-text">ClassSwift控制教學節拍，掌握班級熱區。</dd>
                        </div>
                    </dl>
                    <p id="r2-note" class="curator-note">策展語：三大互動工具讓教學節奏可見、可調、可追蹤。</p>
                </div>
            </section>

            <!-- ROOM 03｜課程實施 -->
            <section id="phase-3" class="room" role="region" aria-labelledby="r3-title" aria-describedby="r3-note">
                <div class="room-left">
                    <div class="room-number">ROOM 03</div>
                    <h2 id="r3-title" class="room-title">課程實施</h2>
                    <p class="room-sub">Padlet｜共構牆｜協作呈現</p>
                </div>
                <div class="room-right">
                    <dl class="wall-cards">
                        <div class="wall-card">
                            <dt class="wall-label">任務</dt>
                            <dd class="wall-text">Padlet驅動真實情境任務，促發小組分工。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">共構</dt>
                            <dd class="wall-text">共構牆聚合多元觀點，從散點連成概念網。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">呈現</dt>
                            <dd class="wall-text">文字影音並陳，讓學習證據多模態可見。</dd>
                        </div>
                    </dl>
                    <p id="r3-note" class="curator-note">策展語：Padlet讓想法從個人擴散到群體，共構知識地圖。</p>
                </div>
            </section>

            <!-- ROOM 04｜課程評估與延伸 -->
            <section id="phase-4" class="room" role="region" aria-labelledby="r4-title" aria-describedby="r4-note">
                <div class="room-left">
                    <div class="room-number">ROOM 04</div>
                    <h2 id="r4-title" class="room-title">課程評估與延伸</h2>
                    <p class="room-sub">edCafe AI｜酷音VoiceStudio </p>
                </div>
                <div class="room-right">
                    <dl class="wall-cards">
                        <div class="wall-card">
                            <dt class="wall-label">證據</dt>
                            <dd class="wall-text">EdCafe AI追蹤作答軌跡，建立學習證據庫。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">回饋</dt>
                            <dd class="wall-text">AI生成差異化回饋，指向個別下一步。</dd>
                        </div>
                        <div class="wall-card">
                            <dt class="wall-label">延伸</dt>
                            <dd class="wall-text">自適應分流練習，建構個別化學習路徑。</dd>
                        </div>
                    </dl>
                    <p id="r4-note" class="curator-note">策展語：EdCafe AI像虛擬助教，為每位學生照亮專屬路徑。</p>
                </div>
            </section>

        </div>
    </main>

    <!-- 展覽尾聲 -->
    <footer class="exhibition-footer" role="contentinfo">
        <p class="footer-text">End of Exhibition · Curriculum Aesthetics Museum</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // 低功耗模式偵測
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            document.documentElement.classList.add('is-lowpower');
        }

        // IntersectionObserver 支援檢測
        if (!window.IntersectionObserver) {
            // 不支援時預設高亮第一房
            document.querySelector('.map-point').classList.add('active');
            document.querySelector('.room-index a').classList.add('is-active');
        } else {
            // IntersectionObserver：導覽高亮
            const sections = [...document.querySelectorAll('.room')];
            const dots = [...document.querySelectorAll('.map-point')];
            const indexLinks = [...document.querySelectorAll('.room-index a')];
            const progress = document.getElementById('route-progress');

            const syncActive = (id) => {
                // 同步頂部導覽點
                dots.forEach(dot => {
                    const isActive = dot.getAttribute('href') === '#' + id;
                    dot.classList.toggle('active', isActive);
                    if (isActive) {
                        dot.setAttribute('aria-current', 'page');
                    } else {
                        dot.removeAttribute('aria-current');
                    }
                });
                
                // 同步右側索引
                indexLinks.forEach(a => {
                    a.classList.toggle('is-active', a.getAttribute('href') === '#' + id);
                });
            };

            const observerOptions = {
                rootMargin: '-30% 0px -60% 0px',
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        syncActive(entry.target.id);
                    }
                });
            }, observerOptions);

            sections.forEach(section => observer.observe(section));

            // 進度條更新
            let ticking = false;
            function updateProgress() {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        const scrollHeight = document.documentElement.scrollHeight;
                        const clientHeight = document.documentElement.clientHeight;
                        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                        const scrollPercent = scrollTop / (scrollHeight - clientHeight);
                        progress.style.width = (scrollPercent * 100) + '%';
                        ticking = false;
                    });
                    ticking = true;
                }
            }

            window.addEventListener('scroll', updateProgress);
            updateProgress();

            // 平滑滾動 - 修正連結行為
            const allLinks = document.querySelectorAll('a[href^="#"]');
            allLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'center' 
                        });
                    }
                    return false;
                });
            });
        }

        // 鍵盤導航（上一房/下一房）
        document.addEventListener('keydown', (e) => {
            const dots = [...document.querySelectorAll('.map-point')];
            const currentActive = document.querySelector('.map-point.active');
            if (!currentActive) return;
            
            const currentIndex = dots.indexOf(currentActive);
            let targetIndex = -1;
            
            if (e.key === 'ArrowLeft' && currentIndex > 0) {
                targetIndex = currentIndex - 1;
            } else if (e.key === 'ArrowRight' && currentIndex < dots.length - 1) {
                targetIndex = currentIndex + 1;
            }
            
            if (targetIndex >= 0) {
                e.preventDefault();
                const targetId = dots[targetIndex].getAttribute('href').substring(1);
                document.getElementById(targetId).scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }
        });
    </script>
</body>
</html>
